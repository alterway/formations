make --dry-run --always-make --keep-going --print-directory
make: Entering directory `/Users/hleclerc/dev/projects/formations/formations-aw'
mkdir -p build
jq -r '.[] | [ .course_name, .course_description, .modules[] ] | @tsv' cours.json | sed 's,\t, ,g3;s,\t,$,g' > build/cours.list
 
sed -E 's#^(.*)\$.*\$(.*)#build/\1.md: $(addsuffix .fr.md, $(addprefix cours/, \2))\n\trm -f $@\n\t$(foreach module,$^,cat $(module) >> $@;)#' build/cours.list > build/Makefile
 
echo >> build/Makefile
 
echo -n 'all=' >> build/Makefile
 
for i in `cut -d '$' -f1 build/cours.list`; do echo -n "$i " >> build/Makefile; done
 
echo >> build/Makefile
 
for i in `cut -d '$' -f1 build/cours.list`; do echo "$i: $i.html $i.pdf $i-handout.pdf $i-print.pdf" >> build/Makefile; done
 
make: Leaving directory `/Users/hleclerc/dev/projects/formations/formations-aw'
 
make: Entering directory `/Users/hleclerc/dev/projects/formations/formations-aw'
 
make: Leaving directory `/Users/hleclerc/dev/projects/formations/formations-aw'
 
build/Makefile:36: *** missing separator.  Stop.

